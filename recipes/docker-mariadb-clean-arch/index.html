<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-recipes docs-version-current docs-doc-page docs-doc-id-docker-mariadb-clean-arch/README" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Docker + MariaDB | Fiber</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://docs.gofiber.io/recipes/docker-mariadb-clean-arch/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-recipes-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-recipes-current /><meta data-rh=true property=og:title content="Docker + MariaDB | Fiber"/><meta data-rh=true name=description content="Dockerized MariaDB with Clean Architecture."/><meta data-rh=true property=og:description content="Dockerized MariaDB with Clean Architecture."/><meta data-rh=true name=keywords content="docker,mariadb,clean architecture,makefile"/><link data-rh=true rel=icon href=/img/favicon.png /><link data-rh=true rel=canonical href=https://docs.gofiber.io/recipes/docker-mariadb-clean-arch/ /><link data-rh=true rel=alternate href=https://docs.gofiber.io/recipes/docker-mariadb-clean-arch/ hreflang=en /><link data-rh=true rel=alternate href=https://docs.gofiber.io/recipes/docker-mariadb-clean-arch/ hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.gofiber.io/recipes/docker-mariadb-clean-arch/","name":"Docker + MariaDB","position":1}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Fiber RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Fiber Atom Feed"><style>html{visibility:hidden}html[data-theme]{visibility:visible}</style><script>!function(){var e=function(){try{return window.localStorage.getItem("theme")}catch(e){return null}}(),t=e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",t),document.documentElement.setAttribute("data-theme-choice",e||"system"),document.documentElement.style.colorScheme=t,document.body&&(document.body.style.colorScheme=t),new MutationObserver(function(){var e=document.documentElement.getAttribute("data-theme");e&&(document.documentElement.style.colorScheme=e,document.body&&(document.body.style.colorScheme=e))}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}()</script><link rel=icon href=/img/favicon.png><link rel=manifest href=/manifest.json><meta name=theme-color content="rgb(0, 172, 215)"><link rel=stylesheet href=/assets/css/styles.34cc3093.css /><script src=/assets/js/runtime~main.cc386111.js defer></script><script src=/assets/js/main.2b62059c.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg /><link rel=preload as=image href=/img/logo-dark.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#fafbfc;color:#091E42 role=banner><div class=announcementBarPlaceholder_vyr4></div><div class="content_knG7 announcementBarContent_xLdY">üåü If you like Fiber, don't forget to give us a star on <a href=https://github.com/gofiber/fiber>Github</a> üåü</div><button type=button aria-label=Close class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a href=https://gofiber.io target=_self rel="noopener noreferrer" class=navbar__brand><div class=navbar__logo><img src=/img/logo.svg alt="Fiber Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo-dark.svg alt="Fiber Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><a class="navbar__item navbar__link" href=/>üè† Home</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>üß© Extra</a><ul class=dropdown__menu><li><a class=dropdown__link href=/contrib/>üß¨ Contrib</a><li><a class=dropdown__link href=/storage/>üì¶ Storage</a><li><a class=dropdown__link href=/template/>Ô∏èüìÑÔ∏è Template</a></ul></div><a href=https://gofiber.io/support target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">‚òï Donate</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/recipes/>üç≥ Recipes</a><a class="navbar__item navbar__link" href=/blog>üì∞ Blog</a><a href=https://github.com/gofiber/awesome-fiber target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">üòé Awesome List</a><a href=https://gofiber.io/discord target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">üí¨ Chat</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/gofiber/fiber target=_blank rel="noopener noreferrer" position=right class="navbar__item navbar__link github-stars-navbar-item" aria-label="Fiber on GitHub (loading star count)"><span class=github-stars-navbar-item__icon aria-hidden=true>‚≠ê</span><span class=github-stars-navbar-item__count>‚Ä¶</span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class="navbar__link header-github-link" aria-label="GitHub Repository"></a><ul class=dropdown__menu><li><a href=https://github.com/gofiber/fiber target=_blank rel="noopener noreferrer" class=dropdown__link>üöÄ Fiber<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/contrib target=_blank rel="noopener noreferrer" class=dropdown__link>üß¨ Contrib<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/storage target=_blank rel="noopener noreferrer" class=dropdown__link>üì¶ Storage<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/template target=_blank rel="noopener noreferrer" class=dropdown__link>üìÑÔ∏è Template<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/recipes target=_blank rel="noopener noreferrer" class=dropdown__link>üç≥Ô∏è Recipes<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/><span title="üëã Overview" class=linkLabel_WmDU>üëã Overview</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/handler/><span title="404 Handler" class=linkLabel_WmDU>404 Handler</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/air/><span title="Air Live Reloading" class=linkLabel_WmDU>Air Live Reloading</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/auth-docker-postgres-jwt/><span title="Auth + Docker + Postgres + JWT" class=linkLabel_WmDU>Auth + Docker + Postgres + JWT</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/auth-jwt/><span title="Auth + JWT" class=linkLabel_WmDU>Auth + JWT</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/autocert/><span title=Autocert class=linkLabel_WmDU>Autocert</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/aws-eb/><span title="AWS Elastic Beanstalk" class=linkLabel_WmDU>AWS Elastic Beanstalk</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/aws-sam-container/><span title="AWS SAM Container" class=linkLabel_WmDU>AWS SAM Container</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/aws-ses-sender/><span title="AWS SES Email Sender" class=linkLabel_WmDU>AWS SES Email Sender</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/bootstrap/><span title=Bootstrap class=linkLabel_WmDU>Bootstrap</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/clean-architecture/><span title="Clean Architecture" class=linkLabel_WmDU>Clean Architecture</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/clean-code/><span title="Clean Code" class=linkLabel_WmDU>Clean Code</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/cloud-run/><span title="Cloud Run" class=linkLabel_WmDU>Cloud Run</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/cloudflare-workers/><span title="Cloudflare Container Workers with Go Fiber" class=linkLabel_WmDU>Cloudflare Container Workers with Go Fiber</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/colly-gorm/><span title="Colly Gorm" class=linkLabel_WmDU>Colly Gorm</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/csrf/><span title=CSRF class=linkLabel_WmDU>CSRF</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/csrf-with-session/><span title="CSRF + Session" class=linkLabel_WmDU>CSRF + Session</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current=page href=/recipes/docker-mariadb-clean-arch/><span title="Docker + MariaDB" class=linkLabel_WmDU>Docker + MariaDB</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/docker-nginx-loadbalancer/><span title="Docker + Nginx" class=linkLabel_WmDU>Docker + Nginx</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/dummyjson/><span title="Dummy JSON Proxy" class=linkLabel_WmDU>Dummy JSON Proxy</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/email-verification/><span title="Email Verification Service" class=linkLabel_WmDU>Email Verification Service</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/ent-mysql/><span title="Entgo ORM (MySQL)" class=linkLabel_WmDU>Entgo ORM (MySQL)</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/recipes/entgo-sveltekit/><span title="Entgo Sveltekit" class=categoryLinkLabel_W154>Entgo Sveltekit</span></a><button aria-label="Expand sidebar category 'Entgo Sveltekit'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/envoy-extauthz/><span title="Envoy External Authorization" class=linkLabel_WmDU>Envoy External Authorization</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/file-server/><span title="File Server" class=linkLabel_WmDU>File Server</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/firebase-auth/><span title="Firebase Authentication" class=linkLabel_WmDU>Firebase Authentication</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/firebase-functions/><span title="Firebase Functions" class=linkLabel_WmDU>Firebase Functions</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/gcloud/><span title="Firebase GCloud" class=linkLabel_WmDU>Firebase GCloud</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/gcloud-firebase/><span title="Google Cloud Firebase" class=linkLabel_WmDU>Google Cloud Firebase</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/geoip/><span title=GeoIP class=linkLabel_WmDU>GeoIP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/geoip-maxmind/><span title="GeoIP + MaxMind" class=linkLabel_WmDU>GeoIP + MaxMind</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/gorm/><span title=GORM class=linkLabel_WmDU>GORM</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/gorm-mysql/><span title="GORM MySQL" class=linkLabel_WmDU>GORM MySQL</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/gorm-postgres/><span title="GORM + PostgreSQL" class=linkLabel_WmDU>GORM + PostgreSQL</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/graceful-shutdown/><span title="Graceful shutdown" class=linkLabel_WmDU>Graceful shutdown</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/graphql/><span title=GraphQL class=linkLabel_WmDU>GraphQL</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/grpc/><span title=gRPC class=linkLabel_WmDU>gRPC</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/hello-world/><span title="Hello World" class=linkLabel_WmDU>Hello World</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/heroku/><span title=Heroku class=linkLabel_WmDU>Heroku</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/hexagonal/><span title="Hexagonal Architecture" class=linkLabel_WmDU>Hexagonal Architecture</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/https-pkcs12-tls/><span title="HTTPS with PKCS12 TLS" class=linkLabel_WmDU>HTTPS with PKCS12 TLS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/https-tls/><span title="HTTPS with TLS" class=linkLabel_WmDU>HTTPS with TLS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/i18n/><span title=I18n class=linkLabel_WmDU>I18n</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/jwt/><span title=JWT class=linkLabel_WmDU>JWT</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/k8s/><span title=Kubernetes class=linkLabel_WmDU>Kubernetes</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/local-development-testcontainers/><span title="Todo App + Auth + GORM + Testcontainers" class=linkLabel_WmDU>Todo App + Auth + GORM + Testcontainers</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/memgraph/><span title=Memgraph class=linkLabel_WmDU>Memgraph</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/minio/><span title=MinIO class=linkLabel_WmDU>MinIO</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/mongodb/><span title=MongoDB class=linkLabel_WmDU>MongoDB</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/multiple-ports/><span title="Multiple Ports" class=linkLabel_WmDU>Multiple Ports</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/mysql/><span title=MySQL class=linkLabel_WmDU>MySQL</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/neo4j/><span title=Neo4j class=linkLabel_WmDU>Neo4j</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/oauth2/><span title=OAuth2 class=linkLabel_WmDU>OAuth2</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/oauth2-google/><span title="Google OAuth2" class=linkLabel_WmDU>Google OAuth2</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/optional-parameter/><span title="Optional Parameter" class=linkLabel_WmDU>Optional Parameter</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/parsley/><span title=Parsley class=linkLabel_WmDU>Parsley</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/postgresql/><span title=PostgreSQL class=linkLabel_WmDU>PostgreSQL</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/prefork/><span title=Prefork class=linkLabel_WmDU>Prefork</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/rabbitmq/><span title=RabbitMQ class=linkLabel_WmDU>RabbitMQ</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/react-router/><span title=React class=linkLabel_WmDU>React</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/recover/><span title="Recover Middleware" class=linkLabel_WmDU>Recover Middleware</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/rss-feed/><span title="RSS Feed" class=linkLabel_WmDU>RSS Feed</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/server-timing/><span title="Server Timing" class=linkLabel_WmDU>Server Timing</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/sessions-sqlite3/><span title="Sessions + SQLite3" class=linkLabel_WmDU>Sessions + SQLite3</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/socketio/><span title=Socketio class=linkLabel_WmDU>Socketio</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/spa/><span title="Single Page Application (SPA)" class=linkLabel_WmDU>Single Page Application (SPA)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/sqlboiler/><span title=Sqlboiler class=linkLabel_WmDU>Sqlboiler</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/sqlc/><span title=Sqlc class=linkLabel_WmDU>Sqlc</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/sse/><span title="Server-Sent Events" class=linkLabel_WmDU>Server-Sent Events</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/stream-request-body/><span title="Stream Request Body" class=linkLabel_WmDU>Stream Request Body</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/svelte-netlify/><span title="Svelte Netlify" class=linkLabel_WmDU>Svelte Netlify</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/recipes/sveltekit-embed/><span title="Sveltekit Embed" class=categoryLinkLabel_W154>Sveltekit Embed</span></a><button aria-label="Expand sidebar category 'Sveltekit Embed'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/swagger/><span title=Swagger class=linkLabel_WmDU>Swagger</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/tableflip/><span title="Tableflip Example" class=linkLabel_WmDU>Tableflip Example</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/template/><span title=Template class=linkLabel_WmDU>Template</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/template-asset-bundling/><span title="Template Asset Bundling" class=linkLabel_WmDU>Template Asset Bundling</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/todo-app-with-auth-gorm/><span title="Todo App + Auth + GORM" class=linkLabel_WmDU>Todo App + Auth + GORM</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/unit-test/><span title="Unit Testing" class=linkLabel_WmDU>Unit Testing</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/upload-file/><span title="File Upload" class=linkLabel_WmDU>File Upload</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/url-shortener-api/><span title="URL Shortener" class=linkLabel_WmDU>URL Shortener</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/recipes/v2/aws-sam/><span title=v2 class=categoryLinkLabel_W154>v2</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/validation/><span title=Validation class=linkLabel_WmDU>Validation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/vercel/><span title=Vercel class=linkLabel_WmDU>Vercel</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/websocket/><span title=WebSocket class=linkLabel_WmDU>WebSocket</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/recipes/websocket-chat/><span title="WebSocket Chat" class=linkLabel_WmDU>WebSocket Chat</span></a></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Docker + MariaDB</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker MariaDB Clean Architecture</h1></header>
<p><a href=https://github.com/gofiber/recipes/tree/master/docker-mariadb-clean-arch target=_blank rel="noopener noreferrer" class=""><img decoding=async loading=lazy src="https://img.shields.io/static/v1?label=&message=Github&color=2ea44f&style=for-the-badge&logo=github" alt=Github class=img_ev3q /></a> <a href=https://stackblitz.com/github/gofiber/recipes/tree/master/docker-mariadb-clean-arch target=_blank rel="noopener noreferrer" class=""><img decoding=async loading=lazy src="https://img.shields.io/static/v1?label=&message=StackBlitz&color=2ea44f&style=for-the-badge&logo=StackBlitz" alt=StackBlitz class=img_ev3q /></a></p>
<p>A slightly complex REST application with Fiber to showcase Clean Architecture with MariaDB as a dependency with Docker.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=prerequisites>Prerequisites<a href=#prerequisites class=hash-link aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate=no>‚Äã</a></h2>
<ul>
<li class="">Docker Compose for running the application.</li>
<li class="">Shell that supports <code>sh</code>, <code>make</code>, and <code>curl</code> for end-to-end testing. UNIX systems or WSL should work fine.</li>
<li class="">Postman if you want to test this API with GUI.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=application>Application<a href=#application class=hash-link aria-label="Direct link to Application" title="Direct link to Application" translate=no>‚Äã</a></h2>
<p>This application is a slightly complex example of a REST API that have four major endpoints. A public user can access the <code>User</code>, <code>Auth</code>, and <code>Misc</code> major endpoints, but they cannot access the <code>City</code> endpoint (as it is protected). If one wants to access said endpoint, they have to log in first via the <code>Auth</code> endpoint, and only after that they can access the <code>City</code> endpoint.</p>
<p>This application uses MariaDB as a database (dockerized), and JWT as an authentication mechanism. This application also showcases how to perform 1-to-many relational mapping in Clean Architecture (one user can have multiple cities), and also the implementation of <code>JOIN</code> SQL clause in Go in general.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=clean-architecture>Clean Architecture<a href=#clean-architecture class=hash-link aria-label="Direct link to Clean Architecture" title="Direct link to Clean Architecture" translate=no>‚Äã</a></h2>
<p><img decoding=async loading=lazy alt="Clean Architecture" src=/assets/images/CleanArchitecture-26ac5f08c770e19c35a8ef38b905373f.jpg width=772 height=567 class=img_ev3q /></p>
<p>Clean Architecture is a concept introduced by Robert C. Martin or also known as Uncle Bob. Simply put, the purpose of this architecture is to perform complete separation of concerns. Systems made this way can be independent of frameworks, testable (easy to write unit tests), independent of UI, independent of database, and independent of any external agency. When you use this architecture, it is simple to change the UI, the database, or the business logic.</p>
<p>One thing that you should keep in mind when using this architecture is about Dependency Rule. In Clean Architecture, source code dependency can only point inwards. This means that the 'inner circle' of the system cannot know at all about the outside world. For example, in the diagram above, use-cases knows about entities, but entities cannot know about use-cases. Data formats used in outer circle should not be used by an inner circle.</p>
<p>Because of this, when you change something that is located the innermost of the circle (entities for example), usually you have to change the outer circles. However, if you change something that is not the innermost of the circle (controllers for example), you do not need to change the use-cases and the entities (you may have to change the frameworks and drivers as they are dependent on each other).</p>
<p>If you want to learn more about Clean Architecture, please see the articles that I have attached below as references.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=system-architecture>System Architecture<a href=#system-architecture class=hash-link aria-label="Direct link to System Architecture" title="Direct link to System Architecture" translate=no>‚Äã</a></h2>
<p>For the sake of clearness, here is the diagram that showcases the system architecture of this API.</p>
<p><img decoding=async loading=lazy alt="System Architecture" src=/assets/images/SystemArchitecture-aa2eb4d1996527275e532865068f7fa6.png width=631 height=375 class=img_ev3q /></p>
<p>Please refer to below table for terminologies / filenames for each layers that are used in this application. The project structure is referred from <a href=https://github.com/golang-standards/project-layout target=_blank rel="noopener noreferrer" class="">this project</a>. In the <code>internal</code> package, there are packages that are grouped according to their functional responsibilities. If you open the package, you will see the files that represents the Clean Architecture layers.</p>
<p>For the dependency graph, it is straightforward: handler/middleware depends on service, service depends on repository, and repository depends on domain and the database (via dependency injection). All of the layers are implemented with the said infrastructure (Fiber, MariaDB, and Authentication Service) in above image.</p>
<p>I have slightly modified the layers in this application to conform to my own taste of Clean Architecture.</p>
<table><thead><tr><th style=text-align:center>Architecture Layer<th style=text-align:center>Equivalent Layer<th style=text-align:center>Filename<tbody><tr><td style=text-align:center>External Interfaces<td style=text-align:center>Presenters and Drivers<td style=text-align:center><code>middleware.go</code> and <code>handler.go</code><tr><td style=text-align:center>Controllers<td style=text-align:center>Business Logic<td style=text-align:center><code>service.go</code><tr><td style=text-align:center>Use Cases<td style=text-align:center>Repositories<td style=text-align:center><code>repository.go</code><tr><td style=text-align:center>Entities<td style=text-align:center>Entities<td style=text-align:center><code>domain.go</code></table>
<p>Basically, a request will have to go through <code>handler.go</code> (and <code>middleware.go</code>) first. After that, the program will call a repository or a use-case that is requested with <code>service.go</code>. That controller (<code>service.go</code>) will call <code>repository.go</code> that conforms to the <code>domain.go</code> in order to fulfill the request that the <code>service.go</code> asked for. The result of the request will be returned back to the user by <code>handler.go</code>.</p>
<p>In short:</p>
<ul>
<li class=""><code>handler.go</code> and <code>middleware.go</code> is used to receive and send requests.</li>
<li class=""><code>service.go</code> is business-logic or controller (some might have different opinions, but this is my subjective opinion).</li>
<li class=""><code>repository.go</code> is used to interact to the database (use-case).</li>
<li class=""><code>domain.go</code> is the 'shape' of the data models that the program use.</li>
</ul>
<p>For the sake of completeness, here are the functional responsibilities of the project structure.</p>
<ul>
<li class=""><code>internal/auth</code> is used to manage authentication.</li>
<li class=""><code>internal/city</code> is used to manage cities. This endpoint <strong>is protected</strong>.</li>
<li class=""><code>internal/infrastructure</code> is used to manage infrastructure of the application, such as MariaDB and Fiber.</li>
<li class=""><code>internal/misc</code> is used to manage miscellaneous endpoints.</li>
<li class=""><code>internal/user</code> is used to manage users. This endpoint is <strong>not protected</strong>.</li>
</ul>
<p>Please refer to the code itself for further details. I commented everything in the code, so I hope it is clear enough!</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=api-endpoints--features>API Endpoints / Features<a href=#api-endpoints--features class=hash-link aria-label="Direct link to API Endpoints / Features" title="Direct link to API Endpoints / Features" translate=no>‚Äã</a></h2>
<p>This API is divided into four 'major endpoints', which are miscellaneous, users, authentication, and cities.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=miscellaneous>Miscellaneous<a href=#miscellaneous class=hash-link aria-label="Direct link to Miscellaneous" title="Direct link to Miscellaneous" translate=no>‚Äã</a></h3>
<p>Endpoints classified here are miscellaneous endpoints.</p>
<ul>
<li class=""><code>GET /api/v1</code> for health check.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=users>Users<a href=#users class=hash-link aria-label="Direct link to Users" title="Direct link to Users" translate=no>‚Äã</a></h3>
<p>Endpoints classified here are endpoints to perform operation on 'User' domain.</p>
<ul>
<li class=""><code>GET /api/v1/users</code> to get all users.</li>
<li class=""><code>POST /api/v1/users</code> to create a user.</li>
<li class=""><code>GET /api/v1/users/&lt;userID></code> to get a user.</li>
<li class=""><code>PUT /api/v1/users/&lt;userID></code> to update a user.</li>
<li class=""><code>DELETE /api/v1/users/&lt;userID></code> to delete a user.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=authentication>Authentication<a href=#authentication class=hash-link aria-label="Direct link to Authentication" title="Direct link to Authentication" translate=no>‚Äã</a></h3>
<p>Endpoints classified here are endpoints to perform authentication. In my opinion, this is framework-layer / implementation detail, so there is no 'domain' regarding this endpoint and you can use this endpoint as an enhancement to other endpoints. Authentication in this API is done using JSON Web Tokens.</p>
<ul>
<li class=""><code>POST /api/v1/auth/login</code> to log in as the user with ID of 1 in the database. Will return JWT and said JWT will be stored in a cookie.</li>
<li class=""><code>POST /api/v1/auth/logout</code> to log out. This route removes the JWT from the cookie.</li>
<li class=""><code>GET /api/v1/auth/private</code> to access a private route which displays information about the current (valid) JWT.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=cities>Cities<a href=#cities class=hash-link aria-label="Direct link to Cities" title="Direct link to Cities" translate=no>‚Äã</a></h3>
<p>Endpoints classified here are endpoints to perform operation on <code>City</code> domain. <strong>Endpoints here are protected via JWT in the cookie</strong>, so if you are going to use this endpoint, make sure you are logged in first (or at least have a valid JWT).</p>
<ul>
<li class=""><code>GET /api/v1/cities</code> to get all cities.</li>
<li class=""><code>POST /api/v1/cities</code> to create a new city.</li>
<li class=""><code>GET /api/v1/cities/&lt;cityID></code> to get a city.</li>
<li class=""><code>PUT /api/v1/cities/&lt;cityID></code> to update a city.</li>
<li class=""><code>DELETE /api/v1/cities/&lt;cityID></code> to delete a city.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=installation>Installation<a href=#installation class=hash-link aria-label="Direct link to Installation" title="Direct link to Installation" translate=no>‚Äã</a></h2>
<p>In order to run this application, you just need to do the following commands.</p>
<ul>
<li class="">Clone the repository.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">git clone git@github.com:gofiber/recipes.git</span><br/></span></code></pre></div></div>
<ul>
<li class="">Switch to this repository.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">cd recipes/docker-mariadb-clean-arch</span><br/></span></code></pre></div></div>
<ul>
<li class="">Run immediately with Docker. After you run this command, migration script will be automatically run to populate your dockerized MariaDB.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">make start</span><br/></span></code></pre></div></div>
<ul>
<li class="">Test with Postman (set the request URL to <code>localhost:8080</code>) or with the created end-to-end testing script. Keep in mind that the end-to-end script is only available for the first run. If you are trying to run it the second time, you might not be able to get all of the perfect results (because of the auto-increment in the MariaDB). Please run <code>make stop</code> and <code>make start</code> first if you want to run the test suite again.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">make test</span><br/></span></code></pre></div></div>
<ul>
<li class="">Teardown or stop the container. This will also delete the Docker volume created and will also delete the created image.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">make stop</span><br/></span></code></pre></div></div>
<p>You're done!</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=faq>FAQ<a href=#faq class=hash-link aria-label="Direct link to FAQ" title="Direct link to FAQ" translate=no>‚Äã</a></h2>
<p>Some frequently asked questions that I found scattered on the Internet. Keep in mind that the answers are mostly subjective.</p>
<p><strong>Q: Is this the right way to do Clean Architecture?</strong></p>
<p>A: Nope. There are many ways to perform clean architecture - this example being one of them. Some projects might be better than this example.</p>
<p><strong>Q: Why is authentication an implementation detail?</strong></p>
<p>A: Authentication is an implementation detail because it does not interact with the use-case or the repository / interface layer. Authentication is a bit strange that it can be implemented in any other routes as a middleware. Keep in mind that this is my subjective opinion.</p>
<p><strong>Q: Is this the recommended way to structure Fiber projects?</strong></p>
<p>A: Nope. Just like any other Gophers, I recommend you to start your project by using a single <code>main.go</code> file. Some projects do not require complicated architectures. After you start seeing the need to branch out, I recommend you to <a href=https://rakyll.org/style-packages/ target=_blank rel="noopener noreferrer" class="">split your code based on functional responsibilities</a>. If you need an even more strict structure, then you can try to adapt Clean Architecture or any other architectures that you see fit, such as Onion, Hexagonal, etcetera.</p>
<p><strong>Q: Is this only for Fiber?</strong></p>
<p>A: Nope. You can simply adjust <code>handler.go</code> and <code>middleware.go</code> files in order to change the external interfaces / presenters and drivers layer to something else. You can use <code>net/http</code>, <code>gin-gonic</code>, <code>echo</code>, and many more. If you want to change or add your database, you just need to adjust the <code>repository.go</code> file accordingly. If you want to change your business logic, simply change the <code>service.go</code> file. As long as you the separation of concerns is done well, you should have no need to change a lot of things.</p>
<p><strong>Q: Is this production-ready?</strong></p>
<p>A: I try to make this as production-ready as possible üòâ</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=improvements>Improvements<a href=#improvements class=hash-link aria-label="Direct link to Improvements" title="Direct link to Improvements" translate=no>‚Äã</a></h2>
<p>Several further improvements that could be implemented in this project:</p>
<ul>
<li class="">Add more tests and mocks, especially unit tests (Clean Architecture is the best for performing unit tests).</li>
<li class="">Add more API endpoints.</li>
<li class="">Add a caching mechanism to the repository layer, such as Redis.</li>
<li class="">Add transaction support.</li>
<li class="">Maybe try to integrate S3 backend to the repository layer (MinIO is a good choice).</li>
<li class="">Maybe add a <code>domain</code> folder in the <code>internal</code> package where we can leave the entities there?</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=discussion>Discussion<a href=#discussion class=hash-link aria-label="Direct link to Discussion" title="Direct link to Discussion" translate=no>‚Äã</a></h2>
<p>Feel free to create an issue in this repository (or maybe ask in Fiber's Discord Server) in order to discuss this together!</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=references>References<a href=#references class=hash-link aria-label="Direct link to References" title="Direct link to References" translate=no>‚Äã</a></h2>
<p>Thanks to articles and their writers that I have read and found inspiration in!</p>
<ul>
<li class=""><a href=https://medium.com/gdg-vit/clean-architecture-the-right-way-d83b81ecac6 target=_blank rel="noopener noreferrer" class="">Clean Architecture by Angad Sharma</a></li>
<li class=""><a href=https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html target=_blank rel="noopener noreferrer" class="">Clean Architecture by Uncle Bob</a></li>
<li class=""><a href=https://dev.to/eminetto/clean-architecture-using-golang-5791 target=_blank rel="noopener noreferrer" class="">Clean Architecture with Go by Elton Minetto</a></li>
<li class=""><a href=https://dev.to/eminetto/clean-architecture-2-years-later-4een target=_blank rel="noopener noreferrer" class="">Clean Architecture with Go Part 2 by Elton Minetto</a></li>
<li class=""><a href=https://hackernoon.com/creating-clean-architecture-using-golang-9h5i3wgr target=_blank rel="noopener noreferrer" class="">Creating Clean Architecture using Go by @namkount</a></li>
<li class=""><a href=https://dev.to/bmf_san/dive-to-clean-architecture-with-golang-cd4 target=_blank rel="noopener noreferrer" class="">Dive to Clean Architecture with Go by Kenta Takeuchi</a></li>
<li class=""><a href=https://itnext.io/golang-and-clean-architecture-19ae9aae5683 target=_blank rel="noopener noreferrer" class="">Go and Clean Architecture by Reshef Sharvit</a></li>
<li class=""><a href=https://medium.com/@jfeng45/go-microservice-with-clean-architecture-application-design-68f48802c8f target=_blank rel="noopener noreferrer" class="">Go Microservices with Clean Architecture by Jin Feng</a></li>
<li class=""><a href=https://github.com/golang-standards/project-layout target=_blank rel="noopener noreferrer" class="">Go Project Layout Repository</a></li>
<li class=""><a href=https://hackernoon.com/golang-clean-archithecture-efd6d7c43047 target=_blank rel="noopener noreferrer" class="">Trying Clean Architecture on Go by Imam Tumorang</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/gofiber/recipes/edit/master/docker-mariadb-clean-arch/README.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2026-02-22T21:07:58.000Z itemprop=dateModified>Feb 22, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/recipes/csrf-with-session/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>CSRF + Session</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/recipes/docker-nginx-loadbalancer/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Docker + Nginx</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#prerequisites class="table-of-contents__link toc-highlight">Prerequisites</a><li><a href=#application class="table-of-contents__link toc-highlight">Application</a><li><a href=#clean-architecture class="table-of-contents__link toc-highlight">Clean Architecture</a><li><a href=#system-architecture class="table-of-contents__link toc-highlight">System Architecture</a><li><a href=#api-endpoints--features class="table-of-contents__link toc-highlight">API Endpoints / Features</a><ul><li><a href=#miscellaneous class="table-of-contents__link toc-highlight">Miscellaneous</a><li><a href=#users class="table-of-contents__link toc-highlight">Users</a><li><a href=#authentication class="table-of-contents__link toc-highlight">Authentication</a><li><a href=#cities class="table-of-contents__link toc-highlight">Cities</a></ul><li><a href=#installation class="table-of-contents__link toc-highlight">Installation</a><li><a href=#faq class="table-of-contents__link toc-highlight">FAQ</a><li><a href=#improvements class="table-of-contents__link toc-highlight">Improvements</a><li><a href=#discussion class="table-of-contents__link toc-highlight">Discussion</a><li><a href=#references class="table-of-contents__link toc-highlight">References</a></ul></div></div></div></div></main></div></div></div></div>
<script src=/inkeepChatButton.js type=module></script></body>