<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-v3.x docs-doc-page docs-doc-id-extra/internal" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>ğŸ—ï¸ Internal Architecture | Fiber</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://docs.gofiber.io/extra/internal /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=v3.x /><meta data-rh=true name=docusaurus_tag content=docs-default-v3.x /><meta data-rh=true name=docsearch:version content=v3.x /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-v3.x /><meta data-rh=true property=og:title content="ğŸ—ï¸ Internal Architecture | Fiber"/><meta data-rh=true name=description content="Learn about the internal architecture of Fiber, including the overall structure, request handling flow, routing, and path parsing."/><meta data-rh=true property=og:description content="Learn about the internal architecture of Fiber, including the overall structure, request handling flow, routing, and path parsing."/><link data-rh=true rel=icon href=/img/favicon.png /><link data-rh=true rel=canonical href=https://docs.gofiber.io/extra/internal /><link data-rh=true rel=alternate href=https://docs.gofiber.io/extra/internal hreflang=en /><link data-rh=true rel=alternate href=https://docs.gofiber.io/extra/internal hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.gofiber.io/category/-extra","name":"ğŸ§© Extra","position":1},{"@type":"ListItem","item":"https://docs.gofiber.io/extra/internal","name":"ğŸ—ï¸ Internal Architecture","position":2}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Fiber RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Fiber Atom Feed"><style>html{visibility:hidden}html[data-theme]{visibility:visible}</style><script>!function(){var e=function(){try{return window.localStorage.getItem("theme")}catch(e){return null}}(),t=e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",t),document.documentElement.setAttribute("data-theme-choice",e||"system"),document.documentElement.style.colorScheme=t,document.body&&(document.body.style.colorScheme=t),new MutationObserver(function(){var e=document.documentElement.getAttribute("data-theme");e&&(document.documentElement.style.colorScheme=e,document.body&&(document.body.style.colorScheme=e))}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}()</script><link rel=icon href=/img/favicon.png><link rel=manifest href=/manifest.json><meta name=theme-color content="rgb(0, 172, 215)"><link rel=stylesheet href=/assets/css/styles.34cc3093.css /><script src=/assets/js/runtime~main.cc386111.js defer></script><script src=/assets/js/main.2b62059c.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg /><link rel=preload as=image href=/img/logo-dark.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#fafbfc;color:#091E42 role=banner><div class=announcementBarPlaceholder_vyr4></div><div class="content_knG7 announcementBarContent_xLdY">ğŸŒŸ If you like Fiber, don't forget to give us a star on <a href=https://github.com/gofiber/fiber>Github</a> ğŸŒŸ</div><button type=button aria-label=Close class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a href=https://gofiber.io target=_self rel="noopener noreferrer" class=navbar__brand><div class=navbar__logo><img src=/img/logo.svg alt="Fiber Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo-dark.svg alt="Fiber Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/>ğŸ  Home</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>ğŸ§© Extra</a><ul class=dropdown__menu><li><a class=dropdown__link href=/contrib/>ğŸ§¬ Contrib</a><li><a class=dropdown__link href=/storage/>ğŸ“¦ Storage</a><li><a class=dropdown__link href=/template/>ï¸ğŸ“„ï¸ Template</a></ul></div><a href=https://gofiber.io/support target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">â˜• Donate</a><a class="navbar__item navbar__link" href=/recipes/>ğŸ³ Recipes</a><a class="navbar__item navbar__link" href=/blog>ğŸ“° Blog</a><a href=https://github.com/gofiber/awesome-fiber target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">ğŸ˜ Awesome List</a><a href=https://gofiber.io/discord target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">ğŸ’¬ Chat</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link fiber-versions" aria-haspopup=true aria-expanded=false role=button href=/extra/internal>v3.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/next/extra/internal>Next</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/extra/internal>v3.x</a><li><a class=dropdown__link href=/v2.x/>v2.x</a><li><a class=dropdown__link href=/v1.x/>v1.x</a></ul></div><a href=https://github.com/gofiber/fiber target=_blank rel="noopener noreferrer" position=right class="navbar__item navbar__link github-stars-navbar-item" aria-label="Fiber on GitHub (loading star count)"><span class=github-stars-navbar-item__icon aria-hidden=true>â­</span><span class=github-stars-navbar-item__count>â€¦</span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class="navbar__link header-github-link" aria-label="GitHub Repository"></a><ul class=dropdown__menu><li><a href=https://github.com/gofiber/fiber target=_blank rel="noopener noreferrer" class=dropdown__link>ğŸš€ Fiber<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/contrib target=_blank rel="noopener noreferrer" class=dropdown__link>ğŸ§¬ Contrib<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/storage target=_blank rel="noopener noreferrer" class=dropdown__link>ğŸ“¦ Storage<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/template target=_blank rel="noopener noreferrer" class=dropdown__link>ğŸ“„ï¸ Template<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://github.com/gofiber/recipes target=_blank rel="noopener noreferrer" class=dropdown__link>ğŸ³ï¸ Recipes<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/><span title="ğŸ‘‹ Welcome" class=linkLabel_WmDU>ğŸ‘‹ Welcome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/whats_new><span title="ğŸ†• What's New in v3" class=linkLabel_WmDU>ğŸ†• What's New in v3</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/category/ï¸-api><span title="ğŸ› ï¸ API" class=categoryLinkLabel_W154>ğŸ› ï¸ API</span></a><button aria-label="Collapse sidebar category 'ğŸ› ï¸ API'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/fiber><span title="ğŸ“¦ Fiber" class=linkLabel_WmDU>ğŸ“¦ Fiber</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/app><span title="ğŸš€ App" class=linkLabel_WmDU>ğŸš€ App</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/ctx><span title="ğŸ§  Ctx" class=linkLabel_WmDU>ğŸ§  Ctx</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/bind><span title="ğŸ“ Bind" class=linkLabel_WmDU>ğŸ“ Bind</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/redirect><span title="ğŸ”„ Redirect" class=linkLabel_WmDU>ğŸ”„ Redirect</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/log><span title="ğŸ“ƒ Log" class=linkLabel_WmDU>ğŸ“ƒ Log</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/hooks><span title="ğŸ£ Hooks" class=linkLabel_WmDU>ğŸ£ Hooks</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/state><span title="ğŸ—‚ï¸ State Management" class=linkLabel_WmDU>ğŸ—‚ï¸ State Management</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/services><span title="ğŸ§© Services" class=linkLabel_WmDU>ğŸ§© Services</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/api/constants><span title="ğŸ“‹ Constants" class=linkLabel_WmDU>ğŸ“‹ Constants</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/category/-middleware><span title="ğŸ§¬ Middleware" class=categoryLinkLabel_W154>ğŸ§¬ Middleware</span></a><button aria-label="Expand sidebar category 'ğŸ§¬ Middleware'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/category/-addon><span title="ğŸ”Œ Addon" class=categoryLinkLabel_W154>ğŸ”Œ Addon</span></a><button aria-label="Expand sidebar category 'ğŸ”Œ Addon'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/category/-client><span title="ğŸŒ Client" class=categoryLinkLabel_W154>ğŸŒ Client</span></a><button aria-label="Collapse sidebar category 'ğŸŒ Client'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/client/rest><span title="ğŸ–¥ï¸ REST" class=linkLabel_WmDU>ğŸ–¥ï¸ REST</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/client/request><span title="ğŸ“¤ Request" class=linkLabel_WmDU>ğŸ“¤ Request</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/client/response><span title="ğŸ“¥ Response" class=linkLabel_WmDU>ğŸ“¥ Response</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/client/hooks><span title="ğŸ£ Hooks" class=linkLabel_WmDU>ğŸ£ Hooks</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/client/examples><span title="ğŸ³ Examples" class=linkLabel_WmDU>ğŸ³ Examples</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/category/-guide><span title="ğŸ“– Guide" class=categoryLinkLabel_W154>ğŸ“– Guide</span></a><button aria-label="Collapse sidebar category 'ğŸ“– Guide'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/routing><span title="ğŸ”Œ Routing" class=linkLabel_WmDU>ğŸ”Œ Routing</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/grouping><span title="ğŸ­ Grouping" class=linkLabel_WmDU>ğŸ­ Grouping</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/templates><span title="ğŸ“ Templates" class=linkLabel_WmDU>ğŸ“ Templates</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/error-handling><span title="ğŸ› Error Handling" class=linkLabel_WmDU>ğŸ› Error Handling</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/reverse-proxy><span title="ğŸ”„ Reverse Proxy Configuration" class=linkLabel_WmDU>ğŸ”„ Reverse Proxy Configuration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/validation><span title="ğŸ” Validation" class=linkLabel_WmDU>ğŸ” Validation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/go-context><span title="ğŸ§  Go Context" class=linkLabel_WmDU>ğŸ§  Go Context</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/faster-fiber><span title="âš¡ Make Fiber Faster" class=linkLabel_WmDU>âš¡ Make Fiber Faster</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/utils><span title="ğŸ§° Utils" class=linkLabel_WmDU>ğŸ§° Utils</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/extractors><span title="ğŸ”¬ Extractors" class=linkLabel_WmDU>ğŸ”¬ Extractors</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/guide/advance-format><span title="ğŸ› Advanced Format" class=linkLabel_WmDU>ğŸ› Advanced Format</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/category/-extra><span title="ğŸ§© Extra" class=categoryLinkLabel_W154>ğŸ§© Extra</span></a><button aria-label="Collapse sidebar category 'ğŸ§© Extra'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/extra/faq><span title="ğŸ¤” FAQ" class=linkLabel_WmDU>ğŸ¤” FAQ</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/extra/benchmarks><span title="ğŸ“Š Benchmarks" class=linkLabel_WmDU>ğŸ“Š Benchmarks</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/extra/internal><span title="ğŸ—ï¸ Internal Architecture" class=linkLabel_WmDU>ğŸ—ï¸ Internal Architecture</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/extra/learning-resources><span title="ğŸ“š Learning Resources" class=linkLabel_WmDU>ğŸ“š Learning Resources</span></a></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/category/-extra><span>ğŸ§© Extra</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>ğŸ—ï¸ Internal Architecture</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v3.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ğŸ—ï¸ Internal Architecture</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=overall-architecture>Overall Architecture<a href=#overall-architecture class=hash-link aria-label="Direct link to Overall Architecture" title="Direct link to Overall Architecture" translate=no>â€‹</a></h2>
<p>At the heart of Fiber is the <strong>App</strong> struct. It is responsible for configuring the server, managing a pool of Contexts (either our default implementation, <strong>DefaultCtx</strong>, or a userâ€‘supplied <strong>CustomCtx</strong>), and holding the router stack with all registered routes and groups. In addition, the App contains mount fields to support subâ€‘applications and hooks that allow developers to run custom code at key stages (e.g. when registering routes or starting the server).</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation>Explanation<a href=#explanation class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">App: The central object that bootstraps and runs the Fiber server.</li>
<li class="">Configuration (Config): Contains settings for body limits, timeouts, TLS options, routing behavior (e.g. caseâ€‘sensitivity, strict routing), and more.</li>
<li class="">Context Pool: A synchronized pool from which Contexts are acquired per request. This design minimizes allocations by recycling DefaultCtx (or CustomCtx) instances.</li>
<li class="">Router Stack: Organizes all registered routes. It is later processed into a tree structure for fast routeâ€‘matching.</li>
<li class="">MountFields: Support for mounting subâ€‘applications so that large APIs can be segmented into independent routers.</li>
<li class="">Hooks: Allow for custom behavior at critical points (e.g., on route registration, route naming, on listen, on shutdown, etc.).</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=request-processing-flow>Request Processing Flow<a href=#request-processing-flow class=hash-link aria-label="Direct link to Request Processing Flow" title="Direct link to Request Processing Flow" translate=no>â€‹</a></h2>
<p>Fiberâ€™s request processing is designed for performance and minimal overhead. When an HTTP request is received by the underlying fasthttp server, the flow is as follows:</p>
<ol>
<li class="">Request Arrival: The fasthttp server receives the HTTP request.</li>
<li class="">Context Acquisition: The App calls AcquireCtx() to fetch a Context from the pool.</li>
<li class="">Context Reset: The acquired Context is reset (via DefaultCtx.Reset()) with the new requestâ€™s data.</li>
<li class="">Request Handling: The request handler (default or custom) is invoked.</li>
<li class="">Route Matching: The framework uses the next() (or nextCustom()) function to traverse the preâ€‘built route tree and find a matching route based on the URL and HTTP method.</li>
<li class="">Middleware Chain Execution: The matched routeâ€™s handler chain is executed in sequence.</li>
<li class="">Error Handling (if required): Any errors encountered trigger the registered error handler.</li>
<li class="">Response Generation: The response is sent back to the client.</li>
<li class="">Context Release: Finally, the Context is cleaned up and returned to the pool.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=additional-note>Additional Note<a href=#additional-note class=hash-link aria-label="Direct link to Additional Note" title="Direct link to Additional Note" translate=no>â€‹</a></h3>
<p>Fiber minimizes memory allocations by reusing Context objects and uses an optimized routeâ€‘matching algorithm to rapidly determine the correct handler chain.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=routing--path-parsing>Routing & Path Parsing<a href=#routing--path-parsing class=hash-link aria-label="Direct link to Routing & Path Parsing" title="Direct link to Routing & Path Parsing" translate=no>â€‹</a></h2>
<p>Fiber allows you to register routes using helper methods (e.g. Get(), Post()) or by creating groups and subâ€‘routers. Internally, the route pattern is parsed by the parseRoute() function. This function decomposes the route string into segments:</p>
<ul>
<li class="">Constant Segments: Fixed parts of the path (e.g. /api).</li>
<li class="">Parameter Segments: Dynamic parts that begin with a colon. For example, a route may be defined as:
/api/:userId&lt;int>
Here, the segment :userId&lt;int> is a parameter segment with a type constraint (an integer).</li>
<li class="">Constraints: Constraints (such as int, bool, datetime, or even regular expressions) are extracted from the parameter part and stored in the routeâ€™s metadata for validation at runtime.</li>
</ul>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-1>Explanation<a href=#explanation-1 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">parseRoute(): Takes a route string and returns a routeParser struct that includes a list of routeSegment objects.</li>
<li class="">routeSegment: Represents a portion of the route. If it is a parameter segment, it may include constraints that determine the allowed format (for example, ensuring that a parameter is an integer).</li>
<li class="">Extracted Parameter Names: These are later used to populate the requestâ€™s Context with the actual values parsed from the URL.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=route-matching-and-parameter-extraction>Route Matching and Parameter Extraction<a href=#route-matching-and-parameter-extraction class=hash-link aria-label="Direct link to Route Matching and Parameter Extraction" title="Direct link to Route Matching and Parameter Extraction" translate=no>â€‹</a></h2>
<p>When a request is processed, Fiber uses its preâ€‘computed route tree (the treeStack) to efficiently match the incoming URL against registered routes.</p>
<ol>
<li class="">Normalization: The URL is normalized (converted to lowercase, trailing slashes trimmed) to create a â€œdetection path.â€</li>
<li class="">Tree Traversal: The route tree, grouped by common prefixes, is traversed based on the HTTP method.</li>
<li class="">Matching: Constant segments are compared exactly, while parameter segments extract dynamic values.</li>
<li class="">Constraint Validation: Extracted parameter values are validated against any defined constraints.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=insight>Insight<a href=#insight class=hash-link aria-label="Direct link to Insight" title="Direct link to Insight" translate=no>â€‹</a></h3>
<p>This efficient matching mechanism leverages preâ€‘grouped routes to minimize comparisons, while dynamic segments allow for flexible URL structures and runtime validation.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=middleware-chain-execution>Middleware Chain Execution<a href=#middleware-chain-execution class=hash-link aria-label="Direct link to Middleware Chain Execution" title="Direct link to Middleware Chain Execution" translate=no>â€‹</a></h2>
<p>Once a matching route is found, Fiber executes the chain of middleware and route handlers sequentially. The process is as follows:</p>
<ol>
<li class="">Initial Handler Execution: The first handler of the matched route is invoked.</li>
<li class="">Calling Next(): Each handler calls Ctx.Next() to pass control to the next handler in the chain.</li>
<li class="">Termination: When no further handlers remain, the chain terminates and the response is sent.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-2>Explanation<a href=#explanation-2 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">Each handler in the chain can perform operations (e.g. authentication, logging, transformation) before calling Next() to forward control.</li>
<li class="">This sequential processing ensures that middleware are executed in the order they were registered.</li>
<li class="">If an error occurs or a handler does not call Next(), the chain may be terminated early, and an error handler may be invoked.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=observations>Observations<a href=#observations class=hash-link aria-label="Direct link to Observations" title="Direct link to Observations" translate=no>â€‹</a></h3>
<p>Middleware are executed in the order they are registered. This sequential design allows each handler to perform tasks such as authentication, logging, or transformation before delegating to the next handler.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=sub-application-mounting--grouping>Sub-Application Mounting & Grouping<a href=#sub-application-mounting--grouping class=hash-link aria-label="Direct link to Sub-Application Mounting & Grouping" title="Direct link to Sub-Application Mounting & Grouping" translate=no>â€‹</a></h2>
<p>Fiber allows mounting subâ€‘applications (or subâ€‘routers) under specific path prefixes. This enables modular design of large APIs. The mounting process works as follows:</p>
<ol>
<li class="">Defining a Mount Point: A parent application (or group) calls <code>Use</code> with a sub-app, which triggers the internal mount path logic.</li>
<li class="">Merging Mount Fields: The subâ€‘appâ€™s mount fields are updated with the prefix of the parent, and its routes are integrated into the parentâ€™s routing structure.</li>
<li class="">Processing Subâ€‘App Routes: During startup, the parent app collects routes from mounted subâ€‘apps and builds a unified route tree.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=impact>Impact<a href=#impact class=hash-link aria-label="Direct link to Impact" title="Direct link to Impact" translate=no>â€‹</a></h3>
<p>This mechanism enables large APIs to be broken down into smaller, maintainable modules while still benefiting from Fiberâ€™s optimized routing and request handling.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=route-tree-building>Route Tree Building<a href=#route-tree-building class=hash-link aria-label="Direct link to Route Tree Building" title="Direct link to Route Tree Building" translate=no>â€‹</a></h2>
<p>Fiber builds a route tree (the treeStack) to optimize route matching. This involves grouping routes based on a prefix (usually the first few characters) to reduce the number of comparisons during a request.</p>
<ol>
<li class="">Iterating Over the Router Stack: Each registered route is examined.</li>
<li class="">Computing the Tree Key: A key is computed from the routeâ€™s normalized path (e.g. the first 3 characters).</li>
<li class="">Grouping Routes: Routes are added to the appropriate branch of the tree.</li>
<li class="">Sorting: Within each group, routes are sorted based on their registration order (or position) to ensure the correct match is found.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-3>Explanation<a href=#explanation-3 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">Building a route tree is an optimization step that reduces the matching overhead by limiting the search space to a subset of routes that share a common prefix.</li>
<li class="">The tree is rebuilt whenever new routes are registered, ensuring that the latest routing configuration is always used for matching.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=context-lifecycle-management>Context Lifecycle Management<a href=#context-lifecycle-management class=hash-link aria-label="Direct link to Context Lifecycle Management" title="Direct link to Context Lifecycle Management" translate=no>â€‹</a></h2>
<p>Fiber minimizes allocations by pooling Context objects. The lifecycle of a Context is as follows:</p>
<ol>
<li class=""><strong>Acquisition:</strong> When a new HTTP request arrives, a Context is retrieved from the pool via <code>App.AcquireCtx()</code>.</li>
<li class=""><strong>Reset:</strong> The acquired Context is reset with the current <code>fasthttp.RequestCtx</code> to clear previous data and initialize new requestâ€‘specific values.</li>
<li class=""><strong>Processing:</strong> The Context is passed along the middleware and handler chain.</li>
<li class=""><strong>Release:</strong> After processing the request (or when an error occurs), the Context is released back to the pool via <code>App.ReleaseCtx()</code>, making it available for reuse.</li>
</ol>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=key-benefit>Key Benefit<a href=#key-benefit class=hash-link aria-label="Direct link to Key Benefit" title="Direct link to Key Benefit" translate=no>â€‹</a></h3>
<p>Reusing Context objects significantly reduces garbage collection overhead, ensuring Fiber remains fast and memoryâ€‘efficient even under heavy load.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=preforking-mechanism>Preforking Mechanism<a href=#preforking-mechanism class=hash-link aria-label="Direct link to Preforking Mechanism" title="Direct link to Preforking Mechanism" translate=no>â€‹</a></h2>
<p>To take full advantage of multiâ€‘core systems, Fiber offers a prefork mode. In this mode, the master process spawns several child processes that listen on the same port using OS features such as SO_REUSEPORT (or fall back to SO_REUSEADDR).</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-4>Explanation<a href=#explanation-4 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">Master Process: The main process determines the number of available CPU cores and spawns that many child processes.</li>
<li class="">Child Processes: Each child sets GOMAXPROCS(1) to run on a single CPU core and listens on the shared port.</li>
<li class="">watchMaster(): Each child process runs a watchdog routine to monitor the master process; if the master exits (or its parent process ID becomes 1 on Unixâ€‘like systems), the child terminates gracefully.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=detailed-preforking-workflow>Detailed Preforking Workflow<a href=#detailed-preforking-workflow class=hash-link aria-label="Direct link to Detailed Preforking Workflow" title="Direct link to Detailed Preforking Workflow" translate=no>â€‹</a></h3>
<p>Fiberâ€™s prefork mode uses OSâ€‘level mechanisms to allow multiple processes to listen on the same port. Hereâ€™s a more detailed look:</p>
<ol>
<li class="">Master Process Spawning: The master process detects the number of CPU cores and spawns that many child processes.</li>
<li class="">Child Process Initialization: Each child process sets GOMAXPROCS(1) so that it runs on a single core.</li>
<li class="">Binding to Port: Child processes use packages like reuseport to bind to the same address and port.</li>
<li class="">Parent Monitoring: Each child runs a watchdog function (watchMaster()) to monitor the master process; if the master terminates, children exit.</li>
<li class="">Request Handling: Each child independently handles incoming HTTP requests.</li>
</ol>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-5>Explanation<a href=#explanation-5 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h4>
<ul>
<li class="">Preforking improves performance by allowing multiple processes to handle requests concurrently.</li>
<li class="">Using reuseport (or a fallback) ensures that all child processes can listen on the same port without conflicts.</li>
<li class="">The watchdog routine in each child ensures that they exit if the master process is no longer running, maintaining process integrity.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=redirection--flash-messages>Redirection & Flash Messages<a href=#redirection--flash-messages class=hash-link aria-label="Direct link to Redirection & Flash Messages" title="Direct link to Redirection & Flash Messages" translate=no>â€‹</a></h2>
<p>Fiberâ€™s redirection mechanism is implemented via the Redirect struct. This structure allows not only setting a new location for redirection but also passing along flash messages and old input data via a special cookie.</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-6>Explanation<a href=#explanation-6 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h3>
<ul>
<li class="">Redirect Struct: Retrieved from a pool (to minimize allocations), it stores redirection settings such as the HTTP status code (defaulting to 303 See Other) and any flash messages.</li>
<li class="">Flash Messages & Old Inputs: These are collected via methods like With() or WithInput() and then serialized and stored in a cookie named fiber_flash.</li>
<li class="">Redirection Methods: The To(), Route(), and Back() methods determine the target URL and set the Location header accordingly.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=flash-message-handling-in-redirection>Flash Message Handling in Redirection<a href=#flash-message-handling-in-redirection class=hash-link aria-label="Direct link to Flash Message Handling in Redirection" title="Direct link to Flash Message Handling in Redirection" translate=no>â€‹</a></h3>
<p>When performing redirections, Fiber can send flash messages or preserve old input data. This process involves:</p>
<ol>
<li class="">Collecting Flash Data: When a redirect is initiated, developers can add flash messages via Redirect.With() or old input data via Redirect.WithInput().</li>
<li class="">Serialization: The flash messages and input data are serialized (using a fast marshalling method) into a byte sequence.</li>
<li class="">Setting a Cookie: The serialized data is stored in a special cookie (named fiber_flash) that will be sent to the client.</li>
<li class="">Retrieval & Clearing: On the subsequent request, the flash data is read from the cookie, deserialized, and then cleared.</li>
</ol>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-7>Explanation<a href=#explanation-7 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h4>
<ul>
<li class="">Flash messages provide a way to pass transient data (such as notifications or error messages) to the next request after a redirect.</li>
<li class="">The data is stored temporarily in a cookie, which is then read and cleared upon processing the next request.</li>
<li class="">This mechanism is essential for implementing postâ€‘redirectâ€‘get patterns and ensuring a smooth user experience.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=hooks-error-handling--context-lifecycle>Hooks, Error Handling & Context Lifecycle<a href=#hooks-error-handling--context-lifecycle class=hash-link aria-label="Direct link to Hooks, Error Handling & Context Lifecycle" title="Direct link to Hooks, Error Handling & Context Lifecycle" translate=no>â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=hooks>Hooks<a href=#hooks class=hash-link aria-label="Direct link to Hooks" title="Direct link to Hooks" translate=no>â€‹</a></h3>
<p>Fiber provides a comprehensive hook system that allows you to run custom functions at key moments:</p>
<ul>
<li class="">OnRoute: Called when a route is registered.</li>
<li class="">OnName: Invoked when a route is assigned a name.</li>
<li class="">OnGroup: Triggered when a group is created.</li>
<li class="">OnListen: Runs when the server starts listening.</li>
<li class="">OnShutdown: Called during graceful shutdown.</li>
<li class="">OnFork: Invoked when a child process is forked.</li>
<li class="">OnMount: Used when a subâ€‘application is mounted.</li>
</ul>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-8>Explanation<a href=#explanation-8 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h4>
<ul>
<li class="">Hooks provide extension points for developers and maintainers to inject custom logic without modifying the core Fiber code.</li>
<li class="">They are executed at various stages (for example, every time a new route is registered, the OnRoute hooks are executed to allow for logging, validation, or transformation of the route).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=error-handling--context-lifecycle>Error Handling & Context Lifecycle<a href=#error-handling--context-lifecycle class=hash-link aria-label="Direct link to Error Handling & Context Lifecycle" title="Direct link to Error Handling & Context Lifecycle" translate=no>â€‹</a></h3>
<p>Fiberâ€™s DefaultCtx (or CustomCtx) represents the perâ€‘request context. The lifecycle is as follows:</p>
<ul>
<li class="">Acquire: A Context is obtained from the pool at the beginning of a request.</li>
<li class="">Processing: The context is passed along to the route handlers and middleware.</li>
<li class="">Error Handling: If an error occurs (e.g., route not found, method not allowed, or a panic in the handler), Fiber calls the registered error handler. Errors such as ErrMethodNotAllowed or StatusNotFound are generated as needed.</li>
<li class="">Release: Once the request is processed, the Context is released back into the pool for reuse.</li>
</ul>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=explanation-9>Explanation<a href=#explanation-9 class=hash-link aria-label="Direct link to Explanation" title="Direct link to Explanation" translate=no>â€‹</a></h4>
<ul>
<li class="">This lifecycle ensures that Fiber minimizes allocations by reusing Context objects.</li>
<li class="">Errors are propagated and handled consistently, and the context is properly reset after every request.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2026-02-22T21:07:58.000Z itemprop=dateModified>Feb 22, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/extra/benchmarks><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>ğŸ“Š Benchmarks</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/extra/learning-resources><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>ğŸ“š Learning Resources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#overall-architecture class="table-of-contents__link toc-highlight">Overall Architecture</a><ul><li><a href=#explanation class="table-of-contents__link toc-highlight">Explanation</a></ul><li><a href=#request-processing-flow class="table-of-contents__link toc-highlight">Request Processing Flow</a><ul><li><a href=#additional-note class="table-of-contents__link toc-highlight">Additional Note</a></ul><li><a href=#routing--path-parsing class="table-of-contents__link toc-highlight">Routing & Path Parsing</a><ul><li><a href=#explanation-1 class="table-of-contents__link toc-highlight">Explanation</a></ul><li><a href=#route-matching-and-parameter-extraction class="table-of-contents__link toc-highlight">Route Matching and Parameter Extraction</a><ul><li><a href=#insight class="table-of-contents__link toc-highlight">Insight</a></ul><li><a href=#middleware-chain-execution class="table-of-contents__link toc-highlight">Middleware Chain Execution</a><ul><li><a href=#explanation-2 class="table-of-contents__link toc-highlight">Explanation</a><li><a href=#observations class="table-of-contents__link toc-highlight">Observations</a></ul><li><a href=#sub-application-mounting--grouping class="table-of-contents__link toc-highlight">Sub-Application Mounting & Grouping</a><ul><li><a href=#impact class="table-of-contents__link toc-highlight">Impact</a></ul><li><a href=#route-tree-building class="table-of-contents__link toc-highlight">Route Tree Building</a><ul><li><a href=#explanation-3 class="table-of-contents__link toc-highlight">Explanation</a></ul><li><a href=#context-lifecycle-management class="table-of-contents__link toc-highlight">Context Lifecycle Management</a><ul><li><a href=#key-benefit class="table-of-contents__link toc-highlight">Key Benefit</a></ul><li><a href=#preforking-mechanism class="table-of-contents__link toc-highlight">Preforking Mechanism</a><ul><li><a href=#explanation-4 class="table-of-contents__link toc-highlight">Explanation</a><li><a href=#detailed-preforking-workflow class="table-of-contents__link toc-highlight">Detailed Preforking Workflow</a></ul><li><a href=#redirection--flash-messages class="table-of-contents__link toc-highlight">Redirection & Flash Messages</a><ul><li><a href=#explanation-6 class="table-of-contents__link toc-highlight">Explanation</a><li><a href=#flash-message-handling-in-redirection class="table-of-contents__link toc-highlight">Flash Message Handling in Redirection</a></ul><li><a href=#hooks-error-handling--context-lifecycle class="table-of-contents__link toc-highlight">Hooks, Error Handling & Context Lifecycle</a><ul><li><a href=#hooks class="table-of-contents__link toc-highlight">Hooks</a><li><a href=#error-handling--context-lifecycle class="table-of-contents__link toc-highlight">Error Handling & Context Lifecycle</a></ul></ul></div></div></div></div></main></div></div></div></div>
<script src=/inkeepChatButton.js type=module></script></body>