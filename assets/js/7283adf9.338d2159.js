"use strict";(self.webpackChunkfiber_docs=self.webpackChunkfiber_docs||[]).push([["46752"],{96114:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>r,toc:()=>c,default:()=>h,metadata:()=>s,assets:()=>l,contentTitle:()=>a});var s=JSON.parse('{"id":"aerospike/aerospike","title":"Aerospike","description":"Release","source":"@site/storage_versioned_docs/version-ristretto_v2.x.x/aerospike/README.md","sourceDirName":"aerospike","slug":"/aerospike/","permalink":"/storage/ristretto_v2.x.x/aerospike/","draft":false,"unlisted":false,"editUrl":"https://github.com/gofiber/storage/edit/main/aerospike/README.md","tags":[],"version":"ristretto_v2.x.x","lastUpdatedAt":1762030608000,"frontMatter":{"id":"aerospike","title":"Aerospike"},"sidebar":"left_sidebar","previous":{"title":"MIGRATE","permalink":"/storage/ristretto_v2.x.x/MIGRATE"},"next":{"title":"ArangoDB","permalink":"/storage/ristretto_v2.x.x/arangodb/"}}'),i=n(74848),o=n(84429);let r={id:"aerospike",title:"Aerospike"},a,l={},c=[{value:"Table of Contents",id:"table-of-contents",level:3},{value:"Signatures",id:"signatures",level:3},{value:"Installation",id:"installation",level:3},{value:"Examples",id:"examples",level:3},{value:"Config",id:"config",level:3},{value:"Default Config",id:"default-config",level:3}];function d(e){let t={a:"a",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{src:"https://img.shields.io/github/v/tag/gofiber/storage?filter=aerospike*",alt:"Release"}),"\n",(0,i.jsx)(t.a,{href:"https://gofiber.io/discord",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/discord/704680098577514527?style=flat&label=%F0%9F%92%AC%20discord&color=00ACD7",alt:"Discord"})}),"\n",(0,i.jsx)(t.img,{src:"https://img.shields.io/github/actions/workflow/status/gofiber/storage/test-aerospike.yml?label=Tests",alt:"Test"})]}),"\n",(0,i.jsxs)(t.p,{children:["An Aerospike client driver using ",(0,i.jsx)(t.code,{children:"aerospike/aerospike-client-go"})," and ",(0,i.jsx)(t.a,{href:"https://github.com/aerospike/aerospike-client-go",children:"aerospike/aerospike-client-go"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#signatures",children:"Signatures"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#installation",children:"Installation"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#examples",children:"Examples"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#config",children:"Config"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#default-config",children:"Default Config"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"signatures",children:"Signatures"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"func New(config ...Config) Storage\nfunc (s *Storage) Get(key string) ([]byte, error)\nfunc (s *Storage) GetWithContext(ctx context.Context, key string) ([]byte, error)\nfunc (s *Storage) Set(key string, val []byte, exp time.Duration) error\nfunc (s *Storage) SetWithContext(ctx context.Context, key string, val []byte, exp time.Duration) error\nfunc (s *Storage) Delete(key string) error\nfunc (s *Storage) DeleteWithContext(ctx context.Context, key string) error\nfunc (s *Storage) Reset() error\nfunc (s *Storage) ResetWithContext(ctx context.Context) error\nfunc (s *Storage) Close() error\nfunc (s *Storage) Conn() driver.Client\nfunc (s *Storage) GetSchemaInfo() *SchemaInfo\n"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note:"})," The context methods are dummy methods and don't have any functionality, as Aerospike does not support context cancellation in its client library. They are provided for compliance with the Fiber storage interface."]}),"\n",(0,i.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(t.p,{children:["Aerospike is tested on the 2 last ",(0,i.jsx)(t.a,{href:"https://golang.org/dl/",children:"Go versions"})," with support for modules. So make sure to initialize one first if you didn't do that yet:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"go mod init github.com/<user>/<repo>\n"})}),"\n",(0,i.jsx)(t.p,{children:"And then install the aerospike implementation:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"go get github.com/gofiber/storage/aerospike\n"})}),"\n",(0,i.jsx)(t.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(t.p,{children:"Import the storage package."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'import "github.com/gofiber/storage/aerospike"\n'})}),"\n",(0,i.jsx)(t.p,{children:"You can use the following possibilities to create a storage:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'// Initialize default config\nstore := aerospike.New()\n\n// Initialize custom config\nstore := aerospike.New(aerospike.Config{\n	Hosts:             []*aerospike.Host{aerospike.NewHost("localhost", 3000)},\n	Namespace:         "test", // Default namespace\n	SetName:           "fiber",\n	Reset:             false,\n	Expiration:        1 * time.Hour,\n	SchemaVersion:     1,\n	SchemaDescription: "Default Fiber storage schema",\n	ForceSchemaUpdate: false,\n})\n'})}),"\n",(0,i.jsx)(t.h3,{id:"config",children:"Config"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"type Config struct {\n	// Hosts is a list of Aerospike server hosts\n	Hosts []*aerospike.Host\n\n	// Namespace is the Aerospike namespace\n	Namespace string\n\n	// Set is the Aerospike set\n	SetName string\n\n	// Reset clears any existing keys in existing Set\n	Reset bool\n\n	// Expiration is the default expiration time of entries\n	Expiration time.Duration\n\n	// SchemaVersion indicates the schema version to use\n	SchemaVersion int\n\n	// SchemaDescription provides additional info about the schema\n	SchemaDescription string\n\n	// ForceSchemaUpdate forces schema update even if version matches\n	ForceSchemaUpdate bool\n}\n"})}),"\n",(0,i.jsx)(t.h3,{id:"default-config",children:"Default Config"}),"\n",(0,i.jsx)(t.p,{children:"Used only for optional fields"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'var ConfigDefault = Config{\n	Hosts:             []*aerospike.Host{aerospike.NewHost("localhost", 3000)},\n	Namespace:         "test", // Default namespace\n	SetName:               "fiber",\n	Reset:             false,\n	Expiration:        1 * time.Hour,\n	SchemaVersion:     1,\n	SchemaDescription: "Default Fiber storage schema",\n	ForceSchemaUpdate: false,\n}\n'})})]})}function h(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},84429:function(e,t,n){n.d(t,{R:()=>r,x:()=>a});var s=n(96540);let i={},o=s.createContext(i);function r(e){let t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);