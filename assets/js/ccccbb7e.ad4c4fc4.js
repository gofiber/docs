"use strict";(self.webpackChunkfiber_docs=self.webpackChunkfiber_docs||[]).push([["7516"],{4470:function(e,t,s){s.r(t),s.d(t,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>n,assets:()=>a,contentTitle:()=>l});var n=JSON.parse('{"id":"testhelpers/README","title":"Test Helpers","description":"This directory hosts reusable utilities for exercising storage implementations in end-to-end and compatibility testing scenarios. Each helper is maintained as its own Go module so it can be consumed independently.","source":"@site/storage_versioned_docs/version-postgres_v3.x.x/testhelpers/README.md","sourceDirName":"testhelpers","slug":"/testhelpers/","permalink":"/storage/postgres_v3.x.x/testhelpers/","draft":false,"unlisted":false,"editUrl":"https://github.com/gofiber/storage/edit/main/testhelpers/README.md","tags":[],"version":"postgres_v3.x.x","lastUpdatedAt":1771794478000,"frontMatter":{},"sidebar":"left_sidebar","previous":{"title":"SurrealDB","permalink":"/storage/postgres_v3.x.x/surrealdb/"},"next":{"title":"Redis Test Helper","permalink":"/storage/postgres_v3.x.x/testhelpers/redis/"}}'),r=s(74848),i=s(84429);let o={},l="Test Helpers",a={},c=[{value:"Available helpers",id:"available-helpers",level:2},{value:"Running tests locally",id:"running-tests-locally",level:2}];function d(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"test-helpers",children:"Test Helpers"})}),"\n",(0,r.jsx)(t.p,{children:"This directory hosts reusable utilities for exercising storage implementations in end-to-end and compatibility testing scenarios. Each helper is maintained as its own Go module so it can be consumed independently."}),"\n",(0,r.jsx)(t.h2,{id:"available-helpers",children:"Available helpers"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Redis"})," (",(0,r.jsx)(t.code,{children:"testhelpers/redis"}),"): Spins up Redis with Testcontainers and exposes convenience functions for running integration tests against Redis-backed storage implementations."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Test Compatibility Kit (TCK)"})," (",(0,r.jsx)(t.code,{children:"testhelpers/tck"}),"): Provides a reusable test suite that validates any ",(0,r.jsx)(t.code,{children:"storage.Storage"})," implementation for correctness and API parity."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"running-tests-locally",children:"Running tests locally"}),"\n",(0,r.jsxs)(t.p,{children:["From the repository root, run tests for a helper by changing into its directory and executing ",(0,r.jsx)(t.code,{children:"go test"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"cd testhelpers/redis\ngo test ./... -v -race\n"})}),"\n",(0,r.jsxs)(t.p,{children:["The helpers rely on Docker via ",(0,r.jsx)(t.a,{href:"https://github.com/testcontainers/testcontainers-go",children:"testcontainers-go"}),", so ensure Docker is available and running before executing the tests."]})]})}function h(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},84429:function(e,t,s){s.d(t,{R:()=>o,x:()=>l});var n=s(96540);let r={},i=n.createContext(r);function o(e){let t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);