"use strict";(self.webpackChunkfiber_docs=self.webpackChunkfiber_docs||[]).push([["93426"],{19754:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>s,toc:()=>o,default:()=>d,metadata:()=>t,assets:()=>l,contentTitle:()=>c});var t=JSON.parse('{"id":"guide/utils","title":"\u{1F9F0} Utils","description":"Generics","source":"@site/docs/core/guide/utils.md","sourceDirName":"guide","slug":"/guide/utils","permalink":"/next/guide/utils","draft":false,"unlisted":false,"editUrl":"https://github.com/gofiber/fiber/edit/main/docs/guide/utils.md","tags":[],"version":"current","lastUpdatedAt":1762030608000,"sidebarPosition":8,"frontMatter":{"id":"utils","title":"\u{1F9F0} Utils","sidebar_position":8,"toc_max_heading_level":4},"sidebar":"left_sidebar","previous":{"title":"\u26A1 Make Fiber Faster","permalink":"/next/guide/faster-fiber"},"next":{"title":"\u{1F52C} Extractors","permalink":"/next/guide/extractors"}}'),a=r(74848),i=r(84429);let s={id:"utils",title:"\u{1F9F0} Utils",sidebar_position:8,toc_max_heading_level:4},c,l={},o=[{value:"Generics",id:"generics",level:2},{value:"Convert",id:"convert",level:3},{value:"GetReqHeader",id:"getreqheader",level:3},{value:"Locals",id:"locals",level:3},{value:"Params",id:"params",level:3},{value:"Query",id:"query",level:3},{value:"RoutePatternMatch",id:"routepatternmatch",level:3}];function u(e){let n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"generics",children:"Generics"}),"\n",(0,a.jsx)(n.h3,{id:"convert",children:"Convert"}),"\n",(0,a.jsx)(n.p,{children:"Converts a string to a specific type while handling errors and optional defaults.\nIt wraps conversion and fallback logic to keep your code clean and consistent."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"func Convert[T any](value string, converter func(string) (T, error), defaultValue ...T) (T, error)\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'// GET http://example.com/id/bb70ab33-d455-4a03-8d78-d3c1dacae9ff\napp.Get("/id/:id", func(c fiber.Ctx) error {\n    fiber.Convert(c.Params("id"), uuid.Parse)                   // UUID(bb70ab33-d455-4a03-8d78-d3c1dacae9ff), nil\n})\n\n// GET http://example.com/search?id=65f6f54221fb90e6a6b76db7\napp.Get("/search", func(c fiber.Ctx) error {\n    fiber.Convert(c.Query("id"), mongo.ParseObjectID)           // objectid(65f6f54221fb90e6a6b76db7), nil\n    fiber.Convert(c.Query("id"), uuid.Parse)                    // uuid.Nil, error(cannot parse given uuid)\n    fiber.Convert(c.Query("id"), uuid.Parse, mongo.NewObjectID) // new object id generated and return nil as error.\n    return nil\n})\n\n// ...\n'})}),"\n",(0,a.jsx)(n.h3,{id:"getreqheader",children:"GetReqHeader"}),"\n",(0,a.jsx)(n.p,{children:"Retrieves an HTTP request header as a specific type using generics."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"func GetReqHeader[V GenericType](c Ctx, key string, defaultValue ...V) V\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'app.Get("/search", func(c fiber.Ctx) error {\n    // curl -X GET http://example.com/search -H "X-Request-ID: 12345" -H "X-Request-Name: John"\n    fiber.GetReqHeader[int](c, "X-Request-ID")               // => returns 12345 as integer.\n    fiber.GetReqHeader[string](c, "X-Request-Name")          // => returns "John" as string.\n    fiber.GetReqHeader[string](c, "unknownParam", "default") // => returns "default" as string.\n    // ...\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"locals",children:"Locals"}),"\n",(0,a.jsx)(n.p,{children:"Reads or writes local values in the request context using generics."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"// Set a value\nfunc Locals[V any](c Ctx, key any, value ...V) V\n// Get a value\nfunc Locals[V any](c Ctx, key any) V\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'app.Use("/user/:user/:id", func(c fiber.Ctx) error {\n    // set local values\n    fiber.Locals[string](c, "user", "john")\n    fiber.Locals[int](c, "id", 25)\n    // ...\n    \n    return c.Next()\n})\n\n\napp.Get("/user/*", func(c fiber.Ctx) error {\n    // get local values\n    name := fiber.Locals[string](c, "user") // john\n    age := fiber.Locals[int](c, "id")       // 25\n    // ...\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"params",children:"Params"}),"\n",(0,a.jsx)(n.p,{children:"Retrieves route parameters as a specific type."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"func Params[V GenericType](c Ctx, key string, defaultValue ...V) V\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'app.Get("/user/:user/:id", func(c fiber.Ctx) error {\n    // http://example.com/user/john/25\n    fiber.Params[int](c, "id")               // => returns 25 as integer.\n    fiber.Params[int](c, "unknownParam", 99) // => returns the default 99 as integer.\n    // ...\n    return c.SendString("Hello, " + fiber.Params[string](c, "user"))\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"query",children:"Query"}),"\n",(0,a.jsx)(n.p,{children:"Retrieves query parameters as a specific type."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"func Query[V GenericType](c Ctx, key string, defaultValue ...V) V\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'app.Get("/search", func(c fiber.Ctx) error {\n    // http://example.com/search?name=john&age=25\n    fiber.Query[string](c, "name")                    // => returns "john"\n    fiber.Query[int](c, "age")                        // => returns 25 as integer.\n    fiber.Query[string](c, "unknownParam", "default") // => returns "default" as string.\n    // ...\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"routepatternmatch",children:"RoutePatternMatch"}),"\n",(0,a.jsxs)(n.p,{children:["Checks whether a given path matches a Fiber route pattern. Useful for testing\npatterns without registering them. Patterns may contain parameters, wildcards\nand optional segments. An optional ",(0,a.jsx)(n.code,{children:"Config"})," allows control over case sensitivity\nand strict routing."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Signature"',children:"func RoutePatternMatch(path, pattern string, cfg ...Config) bool\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",metastring:'title="Example"',children:'fiber.RoutePatternMatch("/user/john", "/user/:name") // true\n\nfiber.RoutePatternMatch(\n    "/User/john",\n    "/user/:name",\n    fiber.Config{CaseSensitive: true},\n) // false\n'})})]})}function d(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},84429:function(e,n,r){r.d(n,{R:()=>s,x:()=>c});var t=r(96540);let a={},i=t.createContext(a);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);