"use strict";(self.webpackChunkfiber_docs=self.webpackChunkfiber_docs||[]).push([["34602"],{75140:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>a,toc:()=>c,default:()=>g,metadata:()=>s,assets:()=>l,contentTitle:()=>r});var s=JSON.parse('{"id":"bbolt/bbolt","title":"Bbolt","description":"Release","source":"@site/storage_versioned_docs/version-badger_v2.x.x/bbolt/README.md","sourceDirName":"bbolt","slug":"/bbolt/","permalink":"/storage/badger_v2.x.x/bbolt/","draft":false,"unlisted":false,"editUrl":"https://github.com/gofiber/storage/edit/main/bbolt/README.md","tags":[],"version":"badger_v2.x.x","lastUpdatedAt":1771794478000,"frontMatter":{"id":"bbolt","title":"Bbolt"},"sidebar":"left_sidebar","previous":{"title":"Badger","permalink":"/storage/badger_v2.x.x/badger/"},"next":{"title":"Cassandra","permalink":"/storage/badger_v2.x.x/cassandra/"}}'),o=n(74848),i=n(84429);let a={id:"bbolt",title:"Bbolt"},r,l={},c=[{value:"Table of Contents",id:"table-of-contents",level:3},{value:"Signatures",id:"signatures",level:3},{value:"Installation",id:"installation",level:3},{value:"Examples",id:"examples",level:3},{value:"Config",id:"config",level:3},{value:"Default Config",id:"default-config",level:3}];function d(e){let t={a:"a",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.img,{src:"https://img.shields.io/github/v/tag/gofiber/storage?filter=bbolt*",alt:"Release"}),"\n",(0,o.jsx)(t.a,{href:"https://gofiber.io/discord",children:(0,o.jsx)(t.img,{src:"https://img.shields.io/discord/704680098577514527?style=flat&label=%F0%9F%92%AC%20discord&color=00ACD7",alt:"Discord"})}),"\n",(0,o.jsx)(t.img,{src:"https://img.shields.io/github/actions/workflow/status/gofiber/storage/test-bbolt.yml?label=Tests",alt:"Test"})]}),"\n",(0,o.jsxs)(t.p,{children:["A Bbolt storage driver using ",(0,o.jsx)(t.a,{href:"https://github.com/etcd-io/bbolt",children:"etcd-io/bbolt"}),". Bolt is a pure Go key/value store inspired by ",(0,o.jsx)(t.a,{href:"https://twitter.com/hyc_symas",children:"Howard Chu's"})," ",(0,o.jsx)(t.a,{href:"https://www.symas.com/symas-embedded-database-lmdb",children:"LMDB project"}),". The goal of the project is to provide a simple, fast, and reliable database for projects that don't require a full database server such as Postgres or MySQL."]}),"\n",(0,o.jsx)(t.h3,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#signatures",children:"Signatures"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#installation",children:"Installation"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#examples",children:"Examples"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#config",children:"Config"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"#default-config",children:"Default Config"})}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"signatures",children:"Signatures"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:"func New(config ...Config) Storage\nfunc (s *Storage) Get(key string) ([]byte, error)\nfunc (s *Storage) GetWithContext(ctx context.Context, key string) ([]byte, error)\nfunc (s *Storage) Set(key string, val []byte, exp time.Duration) error\nfunc (s *Storage) SetWithContext(ctx context.Context, key string, val []byte, exp time.Duration) error\nfunc (s *Storage) Delete(key string) error\nfunc (s *Storage) DeleteWithContext(ctx context.Context, key string) error\nfunc (s *Storage) Reset() error\nfunc (s *Storage) ResetWithContext(ctx context.Context) error\nfunc (s *Storage) Close() error\nfunc (s *Storage) Conn() *bbolt.DB\n"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Note:"})," The context methods are dummy methods and don't have any functionality, as Bbolt does not support context cancellation in its client library. They are provided for compliance with the Fiber storage interface."]}),"\n",(0,o.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,o.jsxs)(t.p,{children:["Bbolt is tested on the 2 last ",(0,o.jsx)(t.a,{href:"https://golang.org/dl/",children:"Go versions"})," with support for modules. So make sure to initialize one first if you didn't do that yet:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"go mod init github.com/<user>/<repo>\n"})}),"\n",(0,o.jsx)(t.p,{children:"And then install the s3 implementation:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"go get github.com/gofiber/storage/bbolt/v2\n"})}),"\n",(0,o.jsx)(t.h3,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(t.p,{children:"Import the storage package."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'import "github.com/gofiber/storage/bbolt/v2"\n'})}),"\n",(0,o.jsx)(t.p,{children:"You can use the following possibilities to create a storage:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'// Initialize default config\nstore := bbolt.New()\n\n// Initialize custom config\nstore := bbolt.New(bbolt.Config{\n	Database: "my_database.db",\n	Bucket:   "my-bucket",\n	Reset:    false,\n})\n'})}),"\n",(0,o.jsx)(t.h3,{id:"config",children:"Config"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'// Config defines the config for storage.\ntype Config struct {\n	// Database path\n	//\n	// Optional. Default is "fiber.db"\n	Database string\n\n	// Bbolt bucket name\n	//\n	// Optional. Default is "fiber_storage"\n	Bucket string\n\n	// Timeout is the amount of time to wait to obtain a file lock.\n	// Only available on Darwin and Linux.\n	//\n	// Optional. Default is 60 * time.Second.\n	Timeout time.Duration\n\n	// Open database in read-only mode.\n	//\n	// Optional. Default is false\n	ReadOnly bool\n\n	// Reset clears any existing keys in existing Bucket\n	//\n	// Optional. Default is false\n	Reset bool\n}\n'})}),"\n",(0,o.jsx)(t.h3,{id:"default-config",children:"Default Config"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'// ConfigDefault is the default config\nvar ConfigDefault = Config{\n	Database: "fiber.db",\n	Bucket:   "fiber_storage",\n	Timeout:  60 * time.Second,\n	ReadOnly: false,\n	Reset:    false,\n}\n'})})]})}function g(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},84429:function(e,t,n){n.d(t,{R:()=>a,x:()=>r});var s=n(96540);let o={},i=s.createContext(o);function a(e){let t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);