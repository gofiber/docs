"use strict";(self.webpackChunkfiber_docs=self.webpackChunkfiber_docs||[]).push([["10373"],{14772:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>s,toc:()=>c,default:()=>h,metadata:()=>i,assets:()=>a,contentTitle:()=>t});var i=JSON.parse('{"id":"cloudflare-workers/README","title":"Cloudflare Container Workers with Go Fiber","description":"Run a Go Fiber v3 app in a Cloudflare Container Worker with a Worker proxy.","source":"@site/docs/recipes/cloudflare-workers/README.md","sourceDirName":"cloudflare-workers","slug":"/cloudflare-workers/","permalink":"/recipes/cloudflare-workers/","draft":false,"unlisted":false,"editUrl":"https://github.com/gofiber/recipes/edit/master/cloudflare-workers/README.md","tags":[],"version":"current","lastUpdatedAt":1771794478000,"frontMatter":{"title":"Cloudflare Container Workers with Go Fiber","keywords":["cloudflare","container","worker","edge"],"description":"Run a Go Fiber v3 app in a Cloudflare Container Worker with a Worker proxy."},"sidebar":"left_sidebar","previous":{"title":"Cloud Run","permalink":"/recipes/cloud-run/"},"next":{"title":"Colly Gorm","permalink":"/recipes/colly-gorm/"}}'),o=n(74848),l=n(84429);let s={title:"Cloudflare Container Workers with Go Fiber",keywords:["cloudflare","container","worker","edge"],description:"Run a Go Fiber v3 app in a Cloudflare Container Worker with a Worker proxy."},t="Cloudflare Container Workers with Go Fiber",a={},c=[{value:"Features",id:"features",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"How it Works",id:"how-it-works",level:2},{value:"Container Configuration",id:"container-configuration",level:2},{value:"Learn More",id:"learn-more",level:2}];function d(e){let r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"cloudflare-container-workers-with-go-fiber",children:"Cloudflare Container Workers with Go Fiber"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.a,{href:"https://github.com/gofiber/recipes/tree/master/cloudflare-workers",children:(0,o.jsx)(r.img,{src:"https://img.shields.io/static/v1?label=&message=Github&color=2ea44f&style=for-the-badge&logo=github",alt:"Github"})})," ",(0,o.jsx)(r.a,{href:"https://stackblitz.com/github/gofiber/recipes/tree/master/cloudflare-workers",children:(0,o.jsx)(r.img,{src:"https://img.shields.io/static/v1?label=&message=StackBlitz&color=2ea44f&style=for-the-badge&logo=StackBlitz",alt:"StackBlitz"})})]}),"\n",(0,o.jsxs)(r.p,{children:["This example demonstrates how to use ",(0,o.jsx)(r.a,{href:"https://github.com/gofiber/fiber",children:"Go Fiber v3"})," with ",(0,o.jsx)(r.a,{href:"https://developers.cloudflare.com/containers/",children:"Cloudflare Container Workers"}),"."]}),"\n",(0,o.jsx)(r.h2,{id:"features",children:"Features"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Go Fiber v3"})," framework"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Distroless container"})," for minimal attack surface (",(0,o.jsx)(r.code,{children:"gcr.io/distroless/static-debian12"}),")"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"JSON API"})," response"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Environment variables"})," support"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Logger and Recover"})," middleware"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Bun"}),"\n",(0,o.jsx)(r.li,{children:"Go 1.25+"}),"\n",(0,o.jsx)(r.li,{children:"Wrangler CLI"}),"\n",(0,o.jsx)(r.li,{children:"Cloudflare account with Container Workers access"}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsx)(r.li,{children:"Install dependencies:"}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"bun install\n"})}),"\n",(0,o.jsxs)(r.ol,{start:"2",children:["\n",(0,o.jsx)(r.li,{children:"Run locally:"}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"bun run dev\n"})}),"\n",(0,o.jsxs)(r.ol,{start:"3",children:["\n",(0,o.jsx)(r.li,{children:"Deploy to Cloudflare:"}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"bun run deploy\n"})}),"\n",(0,o.jsx)(r.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-text",children:".\n\u251C\u2500\u2500 src/index.ts           # Worker entry point\n\u251C\u2500\u2500 container_src/\n\u2502   \u251C\u2500\u2500 main.go           # Go Fiber application\n\u2502   \u251C\u2500\u2500 go.mod            # Go module file\n\u2502   \u2514\u2500\u2500 go.sum            # Go dependencies\n\u251C\u2500\u2500 Dockerfile            # Container configuration\n\u2514\u2500\u2500 wrangler.jsonc        # Cloudflare Workers configuration\n"})}),"\n",(0,o.jsx)(r.h2,{id:"how-it-works",children:"How it Works"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsx)(r.li,{children:"The Worker (TypeScript) receives HTTP requests."}),"\n",(0,o.jsx)(r.li,{children:"Requests are forwarded to the Go Fiber container."}),"\n",(0,o.jsx)(r.li,{children:"The container responds with JSON data, including environment variables."}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"container-configuration",children:"Container Configuration"}),"\n",(0,o.jsx)(r.p,{children:"The container is configured with:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"2-minute sleep timeout for inactivity"}),"\n",(0,o.jsxs)(r.li,{children:["Environment variable ",(0,o.jsx)(r.code,{children:"MESSAGE"})," passed from the container class"]}),"\n",(0,o.jsx)(r.li,{children:"Port 8080 (default)"}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"https://docs.gofiber.io/",children:"Fiber Documentation"})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"https://developers.cloudflare.com/containers/",children:"Cloudflare Container Workers"})}),"\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"https://developers.cloudflare.com/workers/",children:"Cloudflare Workers"})}),"\n"]})]})}function h(e={}){let{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},84429:function(e,r,n){n.d(r,{R:()=>s,x:()=>t});var i=n(96540);let o={},l=i.createContext(o);function s(e){let r=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(l.Provider,{value:r},e.children)}}}]);